(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1004:function(e,t,a){"use strict";var n=a(35),r=a(100),i=a(3),l=a.n(i),s=a(112),c=a.n(s),o=a(886),u=a.n(o),d=a(894),m=a.n(d),p=a(887),h=c.a.oneOfType([c.a.number,c.a.string]),f=c.a.oneOfType([c.a.string,c.a.number,c.a.shape({size:h,order:h,offset:h})]),b={children:c.a.node,hidden:c.a.bool,check:c.a.bool,size:c.a.string,for:c.a.string,tag:p.p,className:c.a.string,cssModule:c.a.object,xs:f,sm:f,md:f,lg:f,xl:f,widths:c.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},v=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},y=function(e){var t=e.className,a=e.cssModule,i=e.hidden,s=e.widths,c=e.tag,o=e.check,d=e.size,h=e.for,f=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];s.forEach(function(t,n){var r=e[t];if(delete f[t],r||""===r){var i,l=!n;if(m()(r)){var s,c=l?"-":"-"+t+"-";i=v(l,t,r.size),b.push(Object(p.l)(u()(((s={})[i]=r.size||""===r.size,s["order"+c+r.order]=r.order||0===r.order,s["offset"+c+r.offset]=r.offset||0===r.offset,s))),a)}else i=v(l,t,r),b.push(i)}});var g=Object(p.l)(u()(t,!!i&&"sr-only",!!o&&"form-check-label",!!d&&"col-form-label-"+d,b,!!b.length&&"col-form-label"),a);return l.a.createElement(c,Object(n.a)({htmlFor:h},f,{className:g}))};y.propTypes=b,y.defaultProps=g,t.a=y},1019:function(e,t,a){"use strict";var n=a(35),r=a(100),i=a(896),l=a(63),s=a(3),c=a.n(s),o=a(112),u=a.n(o),d=a(886),m=a.n(d),p=a(887),h={children:u.a.node,inline:u.a.bool,tag:p.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},f=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(i.a)(a)),a.submit=a.submit.bind(Object(i.a)(a)),a}Object(l.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,i=e.inline,l=e.tag,s=e.innerRef,o=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(p.l)(m()(t,!!i&&"form-inline"),a);return c.a.createElement(l,Object(n.a)({},o,{ref:s,className:u}))},t}(s.Component);f.propTypes=h,f.defaultProps={tag:"form"},t.a=f},1025:function(e,t,a){"use strict";var n=function(){};e.exports=n},1476:function(e,t,a){"use strict";a.r(t);var n=a(973),r=a(974),i=a.n(r),l=a(975),s=a(228),c=a(229),o=a(231),u=a(230),d=a(233),m=a(232),p=a(3),h=a.n(p),f=(a(1014),a(1019)),b=a(911),g=a(906),v=a(918),y=a(925),E=a(1076),O=a(919),j=a(1004),x=a(977),C=a(979),D=a(1026),N=a(1086),S=a(993),w=a(905),k=a(1090),P=a(931),T=(a(112),a(900)),R=(a(899),a(903),a(981)),L=(a(948),a(932),a(950)),M=(a(912),a(913),a(916),a(914),a(917),a(1091)),F=a(923),z=a(910),I=a(944),A=Object(M.a)({toolbarLandscape:{flexWrap:"wrap"},toolbarAmpmLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelAmpmLandscape:{marginTop:"auto"},hourMinuteLabelReverse:{flexDirection:"row-reverse"},ampmSelection:{marginLeft:20,marginRight:-20,display:"flex",flexDirection:"column"},ampmLandscape:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18}},{name:"MuiPickersTimePickerToolbar"});var B=function(e){var t=e.date,a=e.views,n=e.ampm,r=e.openView,i=e.onChange,l=e.isLandscape,s=e.setOpenView,c=Object(w.b)(),o=Object(F.a)(),u=A(),d=function(e,t,a){var n=Object(w.b)();return{meridiemMode:Object(I.d)(e,n),handleMeridiemChange:Object(p.useCallback)(function(r){var i=Object(I.c)(e,r,Boolean(t),n);a(i,!1)},[t,e,a,n])}}(t,n,i),m=d.meridiemMode,h=d.handleMeridiemChange,f=l?"h3":"h2";return Object(p.createElement)(R.b,{isLandscape:l,className:Object(T.a)(l?u.toolbarLandscape:n&&u.toolbarAmpmLeftPadding)},Object(p.createElement)("div",{className:Object(T.a)(u.hourMinuteLabel,n&&l&&u.hourMinuteLabelAmpmLandscape,{rtl:u.hourMinuteLabelReverse}[o.direction])},Object(z.d)(a,"hours")&&Object(p.createElement)(R.c,{variant:f,onClick:function(){return s(I.b.HOURS)},selected:r===I.b.HOURS,label:c.getHourText(t,Boolean(n))}),Object(z.d)(a,["hours","minutes"])&&Object(p.createElement)(R.f,{label:":",variant:f,selected:!1,className:u.separator}),Object(z.d)(a,"minutes")&&Object(p.createElement)(R.c,{variant:f,onClick:function(){return s(I.b.MINUTES)},selected:r===I.b.MINUTES,label:c.getMinuteText(t)}),Object(z.d)(a,["minutes","seconds"])&&Object(p.createElement)(R.f,{variant:"h2",label:":",selected:!1,className:u.separator}),Object(z.d)(a,"seconds")&&Object(p.createElement)(R.c,{variant:"h2",onClick:function(){return s(I.b.SECONDS)},selected:r===I.b.SECONDS,label:c.getSecondText(t)})),n&&Object(p.createElement)("div",{className:Object(T.a)(u.ampmSelection,l&&u.ampmLandscape,Object(z.d)(a,"seconds")&&u.ampmSelectionWithSeconds)},Object(p.createElement)(R.c,{disableRipple:!0,variant:"subtitle1",selected:"am"===m,typographyClassName:u.ampmLabel,label:c.getMeridiemText("am"),onClick:function(){return h("am")}}),Object(p.createElement)(R.c,{disableRipple:!0,variant:"subtitle1",selected:"pm"===m,typographyClassName:u.ampmLabel,label:c.getMeridiemText("pm"),onClick:function(){return h("pm")}})))};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var H=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(P.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},L.c,{openTo:"hours",views:["hours","minutes"]});function V(e){var t=Object(w.b)();return{getDefaultFormat:function(){return Object(R.h)(e.format,e.ampm,{"12h":t.time12hFormat,"24h":t.time24hFormat})}}}var G=Object(R.g)({useOptions:V,Input:R.d,useState:R.i,DefaultToolbarComponent:B}),W=Object(R.g)({useOptions:V,Input:R.a,useState:R.e,DefaultToolbarComponent:B,getCustomProps:function(e){return{refuse:e.ampm?/[^\dap]+/gi:/[^\d]+/gi}}});G.defaultProps=H,W.defaultProps=H;var J=a(961),K=a.n(J),Y=a(992),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleDateChange=function(e){a.setState({selectedDate:e})},a.handleTimeChange=function(e){a.setState({deliveryTime:e})},a.addDelivery=Object(l.a)(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.selectedDate.getFullYear()+"-"+(a.state.selectedDate.getMonth()+1)+"-"+a.state.selectedDate.getDate(),n=a.state.deliveryTime.getHours()+"."+a.state.deliveryTime.getMinutes(),console.log(t),r=a.state.rate[0].ratePrice*a.state.deliveryDistance,e.next=7,K.a.post("/adddelivery",{Distance:a.state.deliveryDistance,deliveryDate:t,deliveryTime:n,payment:r,rateId:a.state.rate[0].rateId,vehicleNo:a.state.lorry.vehicleNumber,driverLiscence:a.state.driver.driverLicenseNo,unloadingPlace:a.state.unloadingPlace.uploadingPlaceId}).then(function(e){e.data.status.localeCompare("SuccessfullyAdded")?a.setState({showDeliNoteBtn:!1}):alert("Successfully Added")});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Failed To Add");case 12:case"end":return e.stop()}},e,null,[[0,9]])})),a.onClear=function(){a.setState({paymentRate:"",deliveryDate:"",deliveryCapacity:"",deliveryDistance:"",showDeliNoteBtn:!1})},a.onGetDeliveryNote=Object(l.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.deliveryTime.getHours()+"."+a.state.deliveryTime.getMinutes(),e.next=3,K.a.post("/getdeliverynote",{company:a.state.company.companyName,lorry:a.state.lorry.vehicleNumber,driver:a.state.driver.driverName,unloadingPlace:a.state.unloadingPlace.uploadingPlaceAddress,capacity:a.state.lorry.vehicleCapacity,distance:a.state.deliveryDistance,time:t}).then(function(){return K.a.get("/fetch-pdf",{responseType:"blob"})}).then(function(e){var t=new Blob([e.data],{type:"application/pdf"});Object(Y.saveAs)(t,"DeliveryNote-".concat(a.state.lorry.vehicleNumber,".pdf"))});case 3:case"end":return e.stop()}},e)})),a.toggle=a.toggle.bind(Object(d.a)(a)),a.toggleFade=a.toggleFade.bind(Object(d.a)(a)),a.state={collapse:!0,fadeIn:!0,companies:[],lorries:[],places:[],rates:[],drivers:[],unloadingPlace:[],driver:[],lorry:[],company:[],timeout:300,selectedDate:new Date,deliveryTime:new Date,paymentRate:"",deliveryDate:"",deliveryCapacity:"",deliveryDistance:"",showDeliNoteBtn:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getCompanies(),this.getLorries(),this.getDrivers()}},{key:"onChange",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a,n,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.state.selectedDate.getFullYear()+"-"+(this.state.selectedDate.getMonth()+1)+"-"+this.state.selectedDate.getDate(),n=this.state.deliveryTime.getHours()+"."+this.state.deliveryTime.getMinutes(),t=this.state.deliveryDistance>=10?this.state.lorry.vehicleDeliRate*this.state.deliveryDistance:this.state.paymentRate,e.next=6,K.a.post("/adddelivery",{Distance:this.state.deliveryDistance,deliveryDate:a,deliveryTime:n,payment:t,vehicleNo:this.state.lorry.vehicleNumber,driverLiscence:this.state.driver.driverLicenseNo,unloadingPlace:this.state.unloadingPlace.uploadingPlaceId}).then(function(e){e.data.status.localeCompare("SuccessfullyAdded")?alert("Bad Credentials"):(alert("Successfully Added"),r.setState({showDeliNoteBtn:!0}))});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Failed To Add");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=this;fetch("/getcompanies").then(function(e){return e.json()}).then(function(t){e.setState({companies:t})}),this.getUnloadingPlace()}},{key:"getLorries",value:function(){var e=this;fetch("/getlorries").then(function(e){return e.json()}).then(function(t){e.setState({lorries:t})})}},{key:"getUnloadingPlace",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("/findunloadingplaces",{SearchId:this.state.company.companyId}).then(function(e){t.setState({places:e.data})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=this;fetch("/getdrivers").then(function(e){return e.json()}).then(function(t){e.setState({drivers:t})})}},{key:"getRate",value:function(){var e=this;fetch("/getrates").then(function(e){return e.json()}).then(function(t){e.setState({rate:t})})}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"toggleFade",value:function(){this.setState(function(e){return{fadeIn:!e}})}},{key:"render",value:function(){var e=this,t=(this.state.companies,this.state.selectedDate);return h.a.createElement("div",{className:"animated fadeIn"},h.a.createElement(f.a,null,h.a.createElement(b.a,null,h.a.createElement(g.a,{xs:"3",ys:"6"}),h.a.createElement(g.a,{xs:"12",sm:"6"},h.a.createElement(v.a,null,h.a.createElement(y.a,null,h.a.createElement("strong",{style:{padding:"175px"}},"Delivery Note"),h.a.createElement("h1",null,"Reliable Group Lanka (Pvt) Ltd",h.a.createElement("br",null)),h.a.createElement(E.a,{style:{alignContent:"center"}},h.a.createElement("small",{style:{padding:"150px"}},"N0.524, Lot 7, Hadungamuwa, Matale",h.a.createElement("br",null)),h.a.createElement("small",{style:{padding:"150px"}},"Tel:0765 505 252/ 0717 615 911",h.a.createElement("br",null)),h.a.createElement("small",{style:{padding:"150px"}},"\u0de7\u0db6\u0dcf\u0dbb\u0dc5\u0dd4, \u0dc0\u0dd0\u0dbd\u0dd2,\u0d9c\u0dbd\u0dca \u0dc3\u0dd0\u0db4\u0dba\u0dd4\u0db8\u0dca\u0d9a\u0dbb\u0dd4",h.a.createElement("br",null)))),h.a.createElement(O.a,{style:{backgroundColor:"#d9d9d9"}},h.a.createElement(E.a,{row:!0},h.a.createElement(g.a,{md:"3"},h.a.createElement(j.a,{htmlFor:"company"},"Company")),h.a.createElement(g.a,{xs:"12",md:"9"},h.a.createElement("div",null,h.a.createElement(D.Combobox,{data:this.state.companies,suggest:!0,textField:"companyName",caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({company:t},function(){e.getUnloadingPlace()})}})))),h.a.createElement(E.a,null,h.a.createElement(j.a,{htmlFor:"Driver's Name"},"Driver's Name"),h.a.createElement("div",null,h.a.createElement(D.Combobox,{data:this.state.drivers,suggest:!0,textField:"driverName",caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({driver:t})}}))),h.a.createElement(E.a,{row:!0,className:"my-0"},h.a.createElement(g.a,{xs:"6"},h.a.createElement(E.a,null,h.a.createElement(j.a,{htmlFor:"Vehicle Number"},"Vehicle Number"),h.a.createElement("div",null,h.a.createElement(D.Combobox,{data:this.state.lorries,textField:"vehicleNumber",suggest:!0,caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({lorry:t,deliveryCapacity:t.vehicleCapacity})}})))),h.a.createElement(g.a,{xs:"6"},h.a.createElement(E.a,null,h.a.createElement(j.a,{htmlFor:"loadCapacity"},"Load Capacity"),h.a.createElement(x.a,{type:"text",name:"deliveryCapacity",placeholder:" ",value:this.state.deliveryCapacity,onChange:this.onChange,disabled:!0})))),h.a.createElement(E.a,null,h.a.createElement(j.a,{htmlFor:"address"},"Unloading Place"),h.a.createElement("div",null,h.a.createElement(D.Combobox,{data:this.state.places,suggest:!0,valueField:"uploadingPlaceAddress",textField:"uploadingPlaceAddress",name:"unloadingPlace",caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({unloadingPlace:t})}}))),h.a.createElement(E.a,null,h.a.createElement(j.a,null,"Unloading Rate"),h.a.createElement(x.a,{type:"text",name:"unloadingRate",value:this.state.unloadingPlace.unloadingPlaceIncomeRate,disabled:!0})),h.a.createElement(E.a,null,h.a.createElement(j.a,{htmlFor:"distance"},"Distance"),h.a.createElement(x.a,{type:"text",name:"deliveryDistance",placeholder:"Distance (km)",value:this.state.deliveryDistance,onChange:this.onChange})),h.a.createElement(E.a,null,this.state.deliveryDistance<=10?h.a.createElement(E.a,{row:!0},h.a.createElement(g.a,{md:"3"},h.a.createElement(j.a,{htmlFor:"rate"},"Payment Rate")),h.a.createElement(g.a,{xs:"12",md:"9"},h.a.createElement(x.a,{type:"text",name:"paymentRate",value:this.state.paymentRate,onChange:this.onChange}))):null),h.a.createElement(E.a,{row:!0},h.a.createElement(w.a,{utils:S.a},h.a.createElement(N.a,{container:!0,justify:"space-around"},h.a.createElement(g.a,null,h.a.createElement(k.a,{margin:"normal",id:"date-picker-dialog",label:"Date",format:"yyyy-MM-dd",value:t,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),h.a.createElement(g.a,null,h.a.createElement(W,{margin:"normal",id:"time-picker",label:"DepartureTime",value:this.state.deliveryTime,onChange:this.handleTimeChange,KeyboardButtonProps:{"aria-label":"change time"}}))))),h.a.createElement(E.a,{row:!0,className:"my-0"},h.a.createElement(g.a,{xs:"6"},h.a.createElement(E.a,null,h.a.createElement(C.a,{block:!0,color:"dark",onClick:function(){e.onSubmit()}},"Save"))),h.a.createElement(g.a,{xs:"6"},h.a.createElement(E.a,null,h.a.createElement(C.a,{block:!0,color:"dark",onClick:function(){e.onClear()}},"clear")))),1==this.state.showDeliNoteBtn?h.a.createElement(E.a,{row:!0,className:"my-0"},h.a.createElement(g.a,{xs:"12"},h.a.createElement(E.a,null,h.a.createElement(C.a,{block:!0,color:"info",onClick:function(){e.onGetDeliveryNote()}},"Delivery Note")))):null))))))}}]),t}(p.Component);t.default=q},977:function(e,t,a){"use strict";var n=a(35),r=a(100),i=a(896),l=a(63),s=a(3),c=a.n(s),o=a(112),u=a.n(o),d=a(886),m=a.n(d),p=a(887),h={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:p.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},f=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(i.a)(a)),a.focus=a.focus.bind(Object(i.a)(a)),a}Object(l.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,i=e.type,l=e.bsSize,s=e.valid,o=e.invalid,u=e.tag,d=e.addon,h=e.plaintext,f=e.innerRef,b=Object(r.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(i)>-1,v=new RegExp("\\D","g"),y=u||("select"===i||"textarea"===i?i:"input"),E="form-control";h?(E+="-plaintext",y=u||"input"):"file"===i?E+="-file":g&&(E=d?null:"form-check-input"),b.size&&v.test(b.size)&&(Object(p.r)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),l=b.size,delete b.size);var O=Object(p.l)(m()(t,o&&"is-invalid",s&&"is-valid",!!l&&"form-control-"+l,E),a);return("input"===y||u&&"function"===typeof u)&&(b.type=i),b.children&&!h&&"select"!==i&&"string"===typeof y&&"select"!==y&&(Object(p.r)('Input with a type of "'+i+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete b.children),c.a.createElement(y,Object(n.a)({},b,{ref:f,className:O}))},t}(c.a.Component);f.propTypes=h,f.defaultProps={type:"text"},t.a=f}}]);
//# sourceMappingURL=51.5e60898e.chunk.js.map