(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1019:function(e,t,a){"use strict";var n=a(35),r=a(100),l=a(896),i=a(63),s=a(3),c=a.n(s),o=a(112),u=a.n(o),d=a(886),m=a.n(d),p=a(887),f={children:u.a.node,inline:u.a.bool,tag:p.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(l.a)(a)),a.submit=a.submit.bind(Object(l.a)(a)),a}Object(i.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,l=e.inline,i=e.tag,s=e.innerRef,o=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(p.l)(m()(t,!!l&&"form-inline"),a);return c.a.createElement(i,Object(n.a)({},o,{ref:s,className:u}))},t}(s.Component);h.propTypes=f,h.defaultProps={tag:"form"},t.a=h},1025:function(e,t,a){"use strict";var n=function(){};e.exports=n},1487:function(e,t,a){"use strict";a.r(t);var n=a(962),r=a(963),l=a.n(r),i=a(964),s=a(228),c=a(229),o=a(231),u=a(230),d=a(233),m=a(232),p=a(3),f=a.n(p),h=(a(1014),a(1019)),b=a(910),g=a(905),v=a(912),y=a(925),E=a(1040),O=a(913),j=a(990),x=a(978),C=a(979),D=a(1026),N=a(1086),S=a(994),w=a(906),k=a(1090),P=a(931),T=(a(112),a(900)),M=(a(899),a(903),a(981)),R=(a(949),a(932),a(951)),L=(a(914),a(915),a(918),a(916),a(919),a(1091)),F=a(923),z=a(911),I=a(944),A=Object(L.a)({toolbarLandscape:{flexWrap:"wrap"},toolbarAmpmLeftPadding:{paddingLeft:50},separator:{margin:"0 4px 0 2px",cursor:"default"},hourMinuteLabel:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},hourMinuteLabelAmpmLandscape:{marginTop:"auto"},hourMinuteLabelReverse:{flexDirection:"row-reverse"},ampmSelection:{marginLeft:20,marginRight:-20,display:"flex",flexDirection:"column"},ampmLandscape:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"},ampmSelectionWithSeconds:{marginLeft:15,marginRight:10},ampmLabel:{fontSize:18}},{name:"MuiPickersTimePickerToolbar"});var B=function(e){var t=e.date,a=e.views,n=e.ampm,r=e.openView,l=e.onChange,i=e.isLandscape,s=e.setOpenView,c=Object(w.b)(),o=Object(F.a)(),u=A(),d=function(e,t,a){var n=Object(w.b)();return{meridiemMode:Object(I.d)(e,n),handleMeridiemChange:Object(p.useCallback)(function(r){var l=Object(I.c)(e,r,Boolean(t),n);a(l,!1)},[t,e,a,n])}}(t,n,l),m=d.meridiemMode,f=d.handleMeridiemChange,h=i?"h3":"h2";return Object(p.createElement)(M.b,{isLandscape:i,className:Object(T.a)(i?u.toolbarLandscape:n&&u.toolbarAmpmLeftPadding)},Object(p.createElement)("div",{className:Object(T.a)(u.hourMinuteLabel,n&&i&&u.hourMinuteLabelAmpmLandscape,{rtl:u.hourMinuteLabelReverse}[o.direction])},Object(z.d)(a,"hours")&&Object(p.createElement)(M.c,{variant:h,onClick:function(){return s(I.b.HOURS)},selected:r===I.b.HOURS,label:c.getHourText(t,Boolean(n))}),Object(z.d)(a,["hours","minutes"])&&Object(p.createElement)(M.f,{label:":",variant:h,selected:!1,className:u.separator}),Object(z.d)(a,"minutes")&&Object(p.createElement)(M.c,{variant:h,onClick:function(){return s(I.b.MINUTES)},selected:r===I.b.MINUTES,label:c.getMinuteText(t)}),Object(z.d)(a,["minutes","seconds"])&&Object(p.createElement)(M.f,{variant:"h2",label:":",selected:!1,className:u.separator}),Object(z.d)(a,"seconds")&&Object(p.createElement)(M.c,{variant:"h2",onClick:function(){return s(I.b.SECONDS)},selected:r===I.b.SECONDS,label:c.getSecondText(t)})),n&&Object(p.createElement)("div",{className:Object(T.a)(u.ampmSelection,i&&u.ampmLandscape,Object(z.d)(a,"seconds")&&u.ampmSelectionWithSeconds)},Object(p.createElement)(M.c,{disableRipple:!0,variant:"subtitle1",selected:"am"===m,typographyClassName:u.ampmLabel,label:c.getMeridiemText("am"),onClick:function(){return f("am")}}),Object(p.createElement)(M.c,{disableRipple:!0,variant:"subtitle1",selected:"pm"===m,typographyClassName:u.ampmLabel,label:c.getMeridiemText("pm"),onClick:function(){return f("pm")}})))};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var H=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(P.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},R.c,{openTo:"hours",views:["hours","minutes"]});function G(e){var t=Object(w.b)();return{getDefaultFormat:function(){return Object(M.h)(e.format,e.ampm,{"12h":t.time12hFormat,"24h":t.time24hFormat})}}}var V=Object(M.g)({useOptions:G,Input:M.d,useState:M.i,DefaultToolbarComponent:B}),W=Object(M.g)({useOptions:G,Input:M.a,useState:M.e,DefaultToolbarComponent:B,getCustomProps:function(e){return{refuse:e.ampm?/[^\dap]+/gi:/[^\d]+/gi}}});V.defaultProps=H,W.defaultProps=H;var J=a(947),K=a.n(J),Y=a(993),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleDateChange=function(e){a.setState({selectedDate:e})},a.handleTimeChange=function(e){a.setState({deliveryTime:e})},a.addDelivery=Object(i.a)(l.a.mark(function e(){var t,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.selectedDate.getFullYear()+"-"+(a.state.selectedDate.getMonth()+1)+"-"+a.state.selectedDate.getDate(),n=a.state.deliveryTime.getHours()+"."+a.state.deliveryTime.getMinutes(),console.log(t),r=a.state.rate[0].ratePrice*a.state.deliveryDistance,e.next=7,K.a.post("/adddelivery",{Distance:a.state.deliveryDistance,deliveryDate:t,deliveryTime:n,payment:r,rateId:a.state.rate[0].rateId,vehicleNo:a.state.lorry.vehicleNumber,driverLiscence:a.state.driver.driverLicenseNo,unloadingPlace:a.state.unloadingPlace.uploadingPlaceId}).then(function(e){e.data.status.localeCompare("SuccessfullyAdded")?a.setState({showDeliNoteBtn:!1}):alert("Successfully Added")});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert("Failed To Add");case 12:case"end":return e.stop()}},e,null,[[0,9]])})),a.onClear=function(){a.setState({paymentRate:"",deliveryDate:"",deliveryCapacity:"",deliveryDistance:"",showDeliNoteBtn:!1})},a.onGetDeliveryNote=Object(i.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.deliveryTime.getHours()+"."+a.state.deliveryTime.getMinutes(),e.next=3,K.a.post("/getdeliverynote",{company:a.state.company.companyName,lorry:a.state.lorry.vehicleNumber,driver:a.state.driver.driverName,unloadingPlace:a.state.unloadingPlace.uploadingPlaceAddress,capacity:a.state.lorry.vehicleCapacity,distance:a.state.deliveryDistance,time:t}).then(function(){return K.a.get("/fetch-pdf",{responseType:"blob"})}).then(function(e){var t=new Blob([e.data],{type:"application/pdf"});Object(Y.saveAs)(t,"DeliveryNote-".concat(a.state.lorry.vehicleNumber,".pdf"))});case 3:case"end":return e.stop()}},e)})),a.toggle=a.toggle.bind(Object(d.a)(a)),a.toggleFade=a.toggleFade.bind(Object(d.a)(a)),a.state={collapse:!0,fadeIn:!0,companies:[],lorries:[],places:[],rates:[],drivers:[],unloadingPlace:[],driver:[],lorry:[],company:[],timeout:300,selectedDate:new Date,deliveryTime:new Date,paymentRate:"",deliveryDate:"",deliveryCapacity:"",deliveryDistance:"",showDeliNoteBtn:!1},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getCompanies(),this.getLorries(),this.getDrivers()}},{key:"onChange",value:function(e){this.setState(Object(n.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t,a,n,r=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=this.state.selectedDate.getFullYear()+"-"+(this.state.selectedDate.getMonth()+1)+"-"+this.state.selectedDate.getDate(),n=this.state.deliveryTime.getHours()+"."+this.state.deliveryTime.getMinutes(),t=this.state.deliveryDistance>=10?this.state.lorry.vehicleDeliRate*this.state.deliveryDistance:this.state.paymentRate,e.next=6,K.a.post("/adddelivery",{Distance:this.state.deliveryDistance,deliveryDate:a,deliveryTime:n,payment:t,vehicleNo:this.state.lorry.vehicleNumber,driverLiscence:this.state.driver.driverLicenseNo,unloadingPlace:this.state.unloadingPlace.uploadingPlaceId}).then(function(e){e.data.status.localeCompare("SuccessfullyAdded")?alert("Bad Credentials"):(alert("Successfully Added"),r.setState({showDeliNoteBtn:!0}))});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Failed To Add");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=this;fetch("/getcompanies").then(function(e){return e.json()}).then(function(t){e.setState({companies:t})}),this.getUnloadingPlace()}},{key:"getLorries",value:function(){var e=this;fetch("/getlorries").then(function(e){return e.json()}).then(function(t){e.setState({lorries:t})})}},{key:"getUnloadingPlace",value:function(){var e=Object(i.a)(l.a.mark(function e(){var t=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.post("/findunloadingplaces",{SearchId:this.state.company.companyId}).then(function(e){t.setState({places:e.data})});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDrivers",value:function(){var e=this;fetch("/getdrivers").then(function(e){return e.json()}).then(function(t){e.setState({drivers:t})})}},{key:"getRate",value:function(){var e=this;fetch("/getrates").then(function(e){return e.json()}).then(function(t){e.setState({rate:t})})}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"toggleFade",value:function(){this.setState(function(e){return{fadeIn:!e}})}},{key:"render",value:function(){var e=this,t=(this.state.companies,this.state.selectedDate);return f.a.createElement("div",{className:"animated fadeIn"},f.a.createElement(h.a,null,f.a.createElement(b.a,null,f.a.createElement(g.a,{xs:"3",ys:"6"}),f.a.createElement(g.a,{xs:"12",sm:"6"},f.a.createElement(v.a,null,f.a.createElement(y.a,null,f.a.createElement("strong",{style:{padding:"175px"}},"Delivery Note"),f.a.createElement("h1",null,"Reliable Group Lanka (Pvt) Ltd",f.a.createElement("br",null)),f.a.createElement(E.a,{style:{alignContent:"center"}},f.a.createElement("small",{style:{padding:"150px"}},"N0.524, Lot 7, Hadungamuwa, Matale",f.a.createElement("br",null)),f.a.createElement("small",{style:{padding:"150px"}},"Tel:0765 505 252/ 0717 615 911",f.a.createElement("br",null)),f.a.createElement("small",{style:{padding:"150px"}},"\u0de7\u0db6\u0dcf\u0dbb\u0dc5\u0dd4, \u0dc0\u0dd0\u0dbd\u0dd2,\u0d9c\u0dbd\u0dca \u0dc3\u0dd0\u0db4\u0dba\u0dd4\u0db8\u0dca\u0d9a\u0dbb\u0dd4",f.a.createElement("br",null)))),f.a.createElement(O.a,{style:{backgroundColor:"#d9d9d9"}},f.a.createElement(E.a,{row:!0},f.a.createElement(g.a,{md:"3"},f.a.createElement(j.a,{htmlFor:"company"},"Company")),f.a.createElement(g.a,{xs:"12",md:"9"},f.a.createElement("div",null,f.a.createElement(D.Combobox,{data:this.state.companies,suggest:!0,textField:"companyName",caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({company:t},function(){e.getUnloadingPlace()})}})))),f.a.createElement(E.a,null,f.a.createElement(j.a,{htmlFor:"Driver's Name"},"Driver's Name"),f.a.createElement("div",null,f.a.createElement(D.Combobox,{data:this.state.drivers,suggest:!0,textField:"driverName",caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({driver:t})}}))),f.a.createElement(E.a,{row:!0,className:"my-0"},f.a.createElement(g.a,{xs:"6"},f.a.createElement(E.a,null,f.a.createElement(j.a,{htmlFor:"Vehicle Number"},"Vehicle Number"),f.a.createElement("div",null,f.a.createElement(D.Combobox,{data:this.state.lorries,textField:"vehicleNumber",suggest:!0,caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({lorry:t,deliveryCapacity:t.vehicleCapacity})}})))),f.a.createElement(g.a,{xs:"6"},f.a.createElement(E.a,null,f.a.createElement(j.a,{htmlFor:"loadCapacity"},"Load Capacity"),f.a.createElement(x.a,{type:"text",name:"deliveryCapacity",placeholder:" ",value:this.state.deliveryCapacity,onChange:this.onChange,disabled:!0})))),f.a.createElement(E.a,null,f.a.createElement(j.a,{htmlFor:"address"},"Unloading Place"),f.a.createElement("div",null,f.a.createElement(D.Combobox,{data:this.state.places,suggest:!0,valueField:"uploadingPlaceAddress",textField:"uploadingPlaceAddress",name:"unloadingPlace",caseSensitive:!1,minLength:2,filter:"contains",onChange:function(t){e.setState({unloadingPlace:t})}}))),f.a.createElement(E.a,null,f.a.createElement(j.a,null,"Unloading Rate"),f.a.createElement(x.a,{type:"text",name:"unloadingRate",value:this.state.unloadingPlace.unloadingPlaceIncomeRate,disabled:!0})),f.a.createElement(E.a,null,f.a.createElement(j.a,{htmlFor:"distance"},"Distance"),f.a.createElement(x.a,{type:"text",name:"deliveryDistance",placeholder:"Distance (km)",value:this.state.deliveryDistance,onChange:this.onChange})),f.a.createElement(E.a,null,this.state.deliveryDistance<=10?f.a.createElement(E.a,{row:!0},f.a.createElement(g.a,{md:"3"},f.a.createElement(j.a,{htmlFor:"rate"},"Payment Rate")),f.a.createElement(g.a,{xs:"12",md:"9"},f.a.createElement(x.a,{type:"text",name:"paymentRate",value:this.state.paymentRate,onChange:this.onChange}))):null),f.a.createElement(E.a,{row:!0},f.a.createElement(w.a,{utils:S.a},f.a.createElement(N.a,{container:!0,justify:"space-around"},f.a.createElement(g.a,null,f.a.createElement(k.a,{margin:"normal",id:"date-picker-dialog",label:"Date",format:"yyyy-MM-dd",value:t,onChange:this.handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}})),f.a.createElement(g.a,null,f.a.createElement(W,{margin:"normal",id:"time-picker",label:"DepartureTime",value:this.state.deliveryTime,onChange:this.handleTimeChange,KeyboardButtonProps:{"aria-label":"change time"}}))))),f.a.createElement(E.a,{row:!0,className:"my-0"},f.a.createElement(g.a,{xs:"6"},f.a.createElement(E.a,null,f.a.createElement(C.a,{block:!0,color:"dark",onClick:function(){e.onSubmit()}},"Save"))),f.a.createElement(g.a,{xs:"6"},f.a.createElement(E.a,null,f.a.createElement(C.a,{block:!0,color:"dark",onClick:function(){e.onClear()}},"clear")))),1==this.state.showDeliNoteBtn?f.a.createElement(E.a,{row:!0,className:"my-0"},f.a.createElement(g.a,{xs:"12"},f.a.createElement(E.a,null,f.a.createElement(C.a,{block:!0,color:"info",onClick:function(){e.onGetDeliveryNote()}},"Delivery Note")))):null))))))}}]),t}(p.Component);t.default=q},910:function(e,t,a){"use strict";var n=a(35),r=a(100),l=a(3),i=a.n(l),s=a(112),c=a.n(s),o=a(886),u=a.n(o),d=a(887),m={tag:d.p,noGutters:c.a.bool,className:c.a.string,cssModule:c.a.object,form:c.a.bool},p=function(e){var t=e.className,a=e.cssModule,l=e.noGutters,s=e.tag,c=e.form,o=Object(r.a)(e,["className","cssModule","noGutters","tag","form"]),m=Object(d.l)(u()(t,l?"no-gutters":null,c?"form-row":"row"),a);return i.a.createElement(s,Object(n.a)({},o,{className:m}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},978:function(e,t,a){"use strict";var n=a(35),r=a(100),l=a(896),i=a(63),s=a(3),c=a.n(s),o=a(112),u=a.n(o),d=a(886),m=a.n(d),p=a(887),f={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:p.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(l.a)(a)),a.focus=a.focus.bind(Object(l.a)(a)),a}Object(i.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,l=e.type,i=e.bsSize,s=e.valid,o=e.invalid,u=e.tag,d=e.addon,f=e.plaintext,h=e.innerRef,b=Object(r.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(l)>-1,v=new RegExp("\\D","g"),y=u||("select"===l||"textarea"===l?l:"input"),E="form-control";f?(E+="-plaintext",y=u||"input"):"file"===l?E+="-file":g&&(E=d?null:"form-check-input"),b.size&&v.test(b.size)&&(Object(p.r)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=b.size,delete b.size);var O=Object(p.l)(m()(t,o&&"is-invalid",s&&"is-valid",!!i&&"form-control-"+i,E),a);return("input"===y||u&&"function"===typeof u)&&(b.type=l),b.children&&!f&&"select"!==l&&"string"===typeof y&&"select"!==y&&(Object(p.r)('Input with a type of "'+l+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete b.children),c.a.createElement(y,Object(n.a)({},b,{ref:h,className:O}))},t}(c.a.Component);h.propTypes=f,h.defaultProps={type:"text"},t.a=h},990:function(e,t,a){"use strict";var n=a(35),r=a(100),l=a(3),i=a.n(l),s=a(112),c=a.n(s),o=a(886),u=a.n(o),d=a(894),m=a.n(d),p=a(887),f=c.a.oneOfType([c.a.number,c.a.string]),h=c.a.oneOfType([c.a.string,c.a.number,c.a.shape({size:f,order:f,offset:f})]),b={children:c.a.node,hidden:c.a.bool,check:c.a.bool,size:c.a.string,for:c.a.string,tag:p.p,className:c.a.string,cssModule:c.a.object,xs:h,sm:h,md:h,lg:h,xl:h,widths:c.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},v=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},y=function(e){var t=e.className,a=e.cssModule,l=e.hidden,s=e.widths,c=e.tag,o=e.check,d=e.size,f=e.for,h=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];s.forEach(function(t,n){var r=e[t];if(delete h[t],r||""===r){var l,i=!n;if(m()(r)){var s,c=i?"-":"-"+t+"-";l=v(i,t,r.size),b.push(Object(p.l)(u()(((s={})[l]=r.size||""===r.size,s["order"+c+r.order]=r.order||0===r.order,s["offset"+c+r.offset]=r.offset||0===r.offset,s))),a)}else l=v(i,t,r),b.push(l)}});var g=Object(p.l)(u()(t,!!l&&"sr-only",!!o&&"form-check-label",!!d&&"col-form-label-"+d,b,!!b.length&&"col-form-label"),a);return i.a.createElement(c,Object(n.a)({htmlFor:f},h,{className:g}))};y.propTypes=b,y.defaultProps=g,t.a=y}}]);
//# sourceMappingURL=51.7c762832.chunk.js.map